{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 3fd2a192d9d22f33df1a","webpack:///./src/example.js","webpack:///./src/gold-exchange.js"],"names":["root","factory","exports","module","define","amd","self","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_goldExchange","exchanger","exchangeCoins","input","coins","inputCoins","Map","toLowerCase","split","forEach","symbol","match","quantity","parseInt","has","set","push","parseInput","newCoins","undefined","Exchanger","rate","newCurrency","value","exchange","reduce","output","coin","_ref","arguments","length","oldCurrency","_classCallCheck","convertToBase","bind","convertToCoins","defaultCurrency","sort","a","b","oldCoins","_this","total","oldCoin","newValue","Math","floor","orig","origBaseValue","newBaseValue","round"],"mappings":"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","file":"gold-exchange.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"gold-exchange\"] = factory();\n\telse\n\t\troot[\"gold-exchange\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3fd2a192d9d22f33df1a","import { Exchanger } from './gold-exchange';\n\nlet exchanger;\nlet getExchanger = () => {\n    if (exchanger === null || exchanger === undefined) {\n        exchanger = new Exchanger({ rate: 1/50, newCurrency: [\n            { symbol: 'g', value: 1000 },\n            { symbol: 'e', value: 100 },\n            { symbol: 's', value: 10 },\n            { symbol: 'c', value: 1 }\n        ]});\n    }\n    return exchanger;\n}\n\nlet parseInput = (input) => {\n    let inputCoins = new Map();\n    input = input.toLowerCase().split(' ');\n    input.forEach( (i) => {\n        let symbol = i.match(/[a-z]/);\n        if (symbol) {\n            let quantity = parseInt(i);\n            if (inputCoins.has(symbol)) {\n                inputCoins.set(symbol, inputCoins.get(symbol) + quantity);\n            } else {\n                inputCoins.set(symbol, quantity);\n            }\n        }\n    })\n    let coins = [];\n    inputCoins.forEach( (quantity, symbol) => {\n        coins.push({ symbol: symbol[0], quantity: quantity });\n    })\n    return coins;\n};\n\nlet parseCoins = (coins) => {\n    return coins.reduce( (output, coin) => {\n        return output += `${coin.quantity}${coin.symbol} `;\n    }, '');\n}\n\nlet exchangeCoins = (input) => {\n    let coins = parseInput(input);\n    let newCoins = getExchanger().exchange(coins);\n    let output = parseCoins(newCoins);\n\n    return output;\n}\n\nexport  { exchangeCoins };\n\n\n// WEBPACK FOOTER //\n// ./src/example.js","// Exchanges original 5e gold values to new standard\n// Rate should be a number, eg a 50:1 exchange rate should be 1/50\n// oldCurrency and newCurrency are arrays of objects contining\n// the symbol and base value of each coin ex:\n// 1p = 1000c and 1g = 100c, ie: [ {symbol: 'p', value: 1000}, {symbol: 'g', value: 100} ]\n// Rate defaults to 10:1 to convert to a silver standard \n// oldCurrency and newCurrency default to 5e coin types, ie: p, g, e, s, c\nclass Exchanger {\n    constructor({rate, oldCurrency, newCurrency} = {}) {\n        this.convertToBase = this.convertToBase.bind(this);\n        this.convertToCoins = this.convertToCoins.bind(this);\n        this.exchange = this.exchange.bind(this);\n\n        let defaultRate = 1/10;\n        let defaultCurrency = [\n            {symbol: 'p', value: 1000},\n            {symbol: 'g', value: 100},\n            {symbol: 'e', value: 50},\n            {symbol: 's', value: 10},\n            {symbol: 'c', value: 1}\n        ]       \n\n        this.newCurrency = newCurrency === undefined ? defaultCurrency : newCurrency.sort( (a, b) => b.value - a.value );\n        this.oldCurrency = oldCurrency === undefined ? defaultCurrency : oldCurrency.sort( (a, b) => b.value - a.value );\n        this.rate = rate === undefined ? defaultRate : rate;\n    };\n\n    convertToBase(oldCoins) {\n        return oldCoins.reduce( (total, oldCoin) => {\n            this.oldCurrency.forEach( (coin) => {\n                if (oldCoin.symbol === coin.symbol) {\n                    return total += oldCoin.quantity * coin.value;\n                }\n            });\n            return total;\n        }, 0 );\n    }\n\n    convertToCoins(value) {\n        let newValue = [];\n        this.newCurrency.forEach( (coin) => {\n            if (value/coin.value >= 1) {\n                let quantity = Math.floor(value/coin.value);\n                newValue.push( { symbol: coin.symbol, quantity: quantity } );\n                value = value%coin.value;\n            }\n        });\n        return newValue;\n    }\n\n    // example orig:\n    // [\n    //     { symbol: 'p', quantity: 1 },\n    //     { symbol: 'g', quantity: 1 },\n    //     { symbol: 'e', quantity: 1 },\n    //     { symbol: 's', quantity: 1 },\n    //     { symbol: 'c', quantity: 1 }\n    // ]\n    exchange(orig) {\n        let origBaseValue = this.convertToBase(orig);\n        let newBaseValue = Math.round(origBaseValue * this.rate);\n        if (newBaseValue <= 0) newBaseValue = 1;\n        let newCoins = this.convertToCoins(newBaseValue);\n        return newCoins;\n    };\n}\n\nexport { Exchanger }\n\n\n// WEBPACK FOOTER //\n// ./src/gold-exchange.js"],"sourceRoot":""}